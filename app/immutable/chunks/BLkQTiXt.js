import"./CU6z1VLM.js";import{w as f}from"./y_BRHp1l.js";const h=f(""),w=f("search"),l=f(new Set),v=f([]),g=["african_studies","arabic_studies","archaeology","art_studies","cultural_studies","dialectology","epigraphy","egyptology","geography","history_studies","iranian_studies","islamic_studies","jewish_studies","lexicography","linguistics","literary_studies","medicine_history","music_studies","numismatics","ottoman_studies","philosophy","religion_studies","science_history","semitic_studies","translation_studies","turkology"],y=["biographical_data","classical_text","computational_text_analysis","digital_preservation","digital_publishing","e_learning","hadith","isnad","language_documentation","nahda","pre_islamic_arabia","religious_text","research_data_management","research_infrastructure","text_reuse"],_=["audio","catalog","collaboration_platform","corpus_output","digital_edition","encyclopedia","htr","image","lexicon","map","ocr","translation","video","visualization","vre"],m=["artefact","corpus_resource","geodata","inscription","manuscript","other"],k=["annotation","nlp","network_analysis","machine_learning","stylometry","tei"],b={discipline:g,topic:y,output:_,resources:m,methods:k};function A(i){const e=Object.keys(i),t=b;for(const[s,o]of Object.entries(t)){t[s]=o.sort();for(const a of o)e.includes(a)||(t[s]=t[s].filter(r=>r!==a))}return t}function K(i){return i.filter(e=>e.place_name.text)}function E(i,e,t){if(e!=="keywords"||t.size===0)return new Set;const s=new Set;let o=!0;for(const r of t){const n=i[r];if(o){n.forEach(c=>s.add(c)),o=!1;continue}for(const c of s)n.includes(c)||s.delete(c)}const a=new Set;e:for(const[r,n]of Object.entries(i)){for(const c of n)if(s.has(c))continue e;a.add(r)}return a}function H(i){const e={};for(const[t,s]of i){const o=s.project.keywords;for(const a of o)e[a]?e[a].push(t):e[a]=[t]}return e}function O(i){const e={};for(const[t,s]of i){const o=s.project.research_data.lang;for(const a of o)e[a]?e[a].push(t):e[a]=[t]}return e}function T(){if(window.location.hash)if(window.location.hash.startsWith("#keywords=")){w.set("keywords");const e=window.location.hash.split("keywords=")[1].split(",");l.set(new Set(e))}else if(window.location.hash.startsWith("#languages=")){w.set("languages");const e=window.location.hash.split("languages=")[1].split(",");l.set(new Set(e))}else h.set(""),l.set(new Set);else h.set(""),l.set(new Set)}function z(){h.set(""),l.set(new Set),window.location.hash=""}function I(i,e){var o,a;const t=e.toLowerCase(),s=[];for(const[r,n]of i){if(n.project.title.toLowerCase().includes(t)){s.push([r,n]);continue}if(n.project.abbr.toLowerCase().includes(t)){s.push([r,n]);continue}if(n.project.project_desc.toLowerCase().includes(t)){s.push([r,n]);continue}if(n.project.keywords.join(" ").includes(t)){s.push([r,n]);continue}let u="";for(const d of n.project.places)d.place_name.text&&(u+=d.place_name.text.toLowerCase(),u+=" ");if(u=u.trim(),u.includes(t)){s.push([r,n]);continue}if(n.project.related_institutions)for(const d of n.project.related_institutions){const p=(a=(o=d.org_name)==null?void 0:o.text)==null?void 0:a.toLowerCase();if(p&&p.includes(t)){s.push([r,n]);break}}}return s}function U(i,e){l.update(o=>(o.has(e)?o.delete(e):o.add(e),o));let t=[];if(l.subscribe(o=>{t=Array.from(o)}),t.length===0){window.location.hash="";return}const s=t.join(",");window.location.hash=`#${i}=${s}`}export{w as a,l as b,E as c,I as d,v as e,K as f,H as g,A as h,O as i,T as j,z as r,h as s,U as u};
