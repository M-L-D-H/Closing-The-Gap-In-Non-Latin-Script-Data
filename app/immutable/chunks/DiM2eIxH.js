import"./CU6z1VLM.js";import{w as d}from"./y_BRHp1l.js";const f=d(""),h=d("search"),l=d(new Set),C=d([]),w=["african_studies","arabic_studies","archaeology","art_studies","cultural_studies","dialectology","epigraphy","egyptology","geography","history_studies","iranian_studies","islamic_studies","jewish_studies","lexicography","linguistics","literary_studies","medicine_history","music_studies","numismatics","ottoman_studies","philosophy","religion_studies","science_history","semitic_studies","translation_studies","turkology"],g=["biographical_data","classical_text","computational_text_analysis","digital_preservation","digital_publishing","e_learning","hadith","isnad","language_documentation","nahda","pre_islamic_arabia","religious_text","research_data_management","research_infrastructure","text_reuse"],y=["audio","catalog","collaboration_platform","corpus_output","digital_edition","encyclopedia","htr","image","lexicon","map","ocr","translation","video","visualization","vre"],_=["artefact","corpus_resource","geodata","inscription","manuscript","other"],m=["annotation","nlp","network_analysis","machine_learning","stylometry","tei"],k={discipline:w,topic:g,output:y,resources:_,methods:m};function v(i){const t=Object.keys(i),e=k;for(const[s,o]of Object.entries(e)){e[s]=o.sort();for(const a of o)t.includes(a)||(e[s]=e[s].filter(r=>r!==a))}return e}function A(i){return i.filter(t=>t.place_name.text)}function K(i,t,e){if(t!=="keywords"||e.size===0)return new Set;const s=new Set;let o=!0;for(const r of e){const n=i[r];if(o){n.forEach(c=>s.add(c)),o=!1;continue}for(const c of s)n.includes(c)||s.delete(c)}const a=new Set;e:for(const[r,n]of Object.entries(i)){for(const c of n)if(s.has(c))continue e;a.add(r)}return a}function E(i){const t={};for(const[e,s]of i){const o=s.project.keywords;for(const a of o)t[a]?t[a].push(e):t[a]=[e]}return t}function H(i){const t={};for(const[e,s]of i){const o=s.project.research_data.lang;for(const a of o)t[a]?t[a].push(e):t[a]=[e]}return t}function O(){if(window.location.hash)if(window.location.hash.startsWith("#keywords=")){h.set("keywords");const t=window.location.hash.split("keywords=")[1].split(",");l.set(new Set(t))}else if(window.location.hash.startsWith("#languages=")){h.set("languages");const t=window.location.hash.split("languages=")[1].split(",");l.set(new Set(t))}else f.set(""),l.set(new Set);else f.set(""),l.set(new Set)}function T(){f.set(""),l.set(new Set),window.location.hash=""}function z(i,t){var o,a;const e=t.toLowerCase(),s=[];for(const[r,n]of i){if(n.project.title.toLowerCase().includes(e)){s.push([r,n]);continue}if(n.project.abbr.toLowerCase().includes(e)){s.push([r,n]);continue}if(n.project.project_desc.toLowerCase().includes(e)){s.push([r,n]);continue}if(n.project.keywords.join(" ").includes(e)){s.push([r,n]);continue}let u="";for(const p of n.project.places)p.place_name.text&&(u+=p.place_name.text.toLowerCase(),u+=" ");if(u=u.trim(),u.includes(e)){s.push([r,n]);continue}if((o=n.project.pers_name)!=null&&o.toLowerCase().includes(e)){s.push([r,n]);continue}if((a=n.project.related_institution)!=null&&a.toLowerCase().includes(e)){s.push([r,n]);continue}}return s}function I(i,t){l.update(o=>(o.has(t)?o.delete(t):o.add(t),o));let e=[];if(l.subscribe(o=>{e=Array.from(o)}),e.length===0){window.location.hash="";return}const s=e.join(",");window.location.hash=`#${i}=${s}`}export{h as a,l as b,K as c,z as d,C as e,A as f,E as g,v as h,H as i,O as j,T as r,f as s,I as u};
