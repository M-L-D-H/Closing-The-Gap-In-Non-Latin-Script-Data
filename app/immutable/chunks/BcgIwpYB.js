import"./CU6z1VLM.js";import{w as f}from"./y_BRHp1l.js";const h=f(""),w=f("search"),l=f(new Set),v=f([]),g=["african_studies","arabic_studies","archaeology","art_studies","cultural_studies","dialectology","epigraphy","egyptology","geography","history_studies","iranian_studies","islamic_studies","jewish_studies","lexicography","linguistics","literary_studies","medicine_history","music_studies","numismatics","ottoman_studies","philosophy","religion_studies","science_history","semitic_studies","translation_studies","turkology"],y=["biographical_data","classical_text","computational_text_analysis","digital_preservation","digital_publishing","e_learning","hadith","isnad","language_documentation","nahda","pre_islamic_arabia","religious_text","research_data_management","research_infrastructure","text_reuse"],_=["audio","catalog","collaboration_platform","corpus_output","digital_edition","encyclopedia","htr","image","lexicon","map","ocr","translation","video","visualization","vre"],m=["artefact","corpus_resource","geodata","inscription","manuscript","other"],k=["annotation","nlp","network_analysis","machine_learning","stylometry","tei"],b={discipline:g,topic:y,output:_,resources:m,methods:k};function A(n){const e=Object.keys(n),t=b;for(const[s,o]of Object.entries(t)){t[s]=o.sort();for(const i of o)e.includes(i)||(t[s]=t[s].filter(r=>r!==i))}return t}function K(n){return n.filter(e=>e.place_name.text)}function E(n,e,t){if(e!=="keywords"||t.size===0)return new Set;const s=new Set;let o=!0;for(const r of t){const a=n[r];if(o){a.forEach(c=>s.add(c)),o=!1;continue}for(const c of s)a.includes(c)||s.delete(c)}const i=new Set;e:for(const[r,a]of Object.entries(n)){for(const c of a)if(s.has(c))continue e;i.add(r)}return i}function H(n){const e={};for(const[t,s]of n){const o=s.project.keywords;for(const i of o)e[i]?e[i].push(t):e[i]=[t]}return e}function O(n){const e={};for(const[t,s]of n){const o=s.project.research_data.lang;for(const i of o)e[i]?e[i].push(t):e[i]=[t]}return e}function T(){if(window.location.hash)if(window.location.hash.startsWith("#keywords=")){w.set("keywords");const e=window.location.hash.split("keywords=")[1].split(",");l.set(new Set(e))}else if(window.location.hash.startsWith("#languages=")){w.set("languages");const e=window.location.hash.split("languages=")[1].split(",");l.set(new Set(e))}else h.set(""),l.set(new Set);else h.set(""),l.set(new Set)}function z(){h.set(""),l.set(new Set),window.location.hash=""}function I(n,e){var o,i;const t=e.toLowerCase(),s=[];for(const[r,a]of n){if(a.project.title.toLowerCase().includes(t)){s.push([r,a]);continue}if(a.project.abbr.toLowerCase().includes(t)){s.push([r,a]);continue}if(a.project.project_desc.toLowerCase().includes(t)){s.push([r,a]);continue}if(a.project.keywords.join(" ").includes(t)){s.push([r,a]);continue}let u="";for(const d of a.project.places)d.place_name.text&&(u+=d.place_name.text.toLowerCase(),u+=" ");if(u=u.trim(),u.includes(t)){s.push([r,a]);continue}if(project.related_institutions)for(const d of project.related_institutions){const p=(i=(o=d.org_name)==null?void 0:o.text)==null?void 0:i.toLowerCase();if(p&&p.includes(t)){s.push([r,a]);break}}}return s}function U(n,e){l.update(o=>(o.has(e)?o.delete(e):o.add(e),o));let t=[];if(l.subscribe(o=>{t=Array.from(o)}),t.length===0){window.location.hash="";return}const s=t.join(",");window.location.hash=`#${n}=${s}`}export{w as a,l as b,E as c,I as d,v as e,K as f,H as g,A as h,O as i,T as j,z as r,h as s,U as u};
