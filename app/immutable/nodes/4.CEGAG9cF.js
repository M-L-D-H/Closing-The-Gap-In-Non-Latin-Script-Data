import{s as ge,n as $,r as ye}from"../chunks/PgBBsDxm.js";import{S as we,i as Pe,d as N,F as g,a as te,b as o,B as x,G as Le,k as l,c as m,e as ee,m as B,g as b,h as p,j as v,s as ke,f as ue,t as ce}from"../chunks/CBMSsibu.js";class O{constructor(e=0,s="Network Error"){this.status=e,this.text=s}}const Ce=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},d={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:Ce()},se=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},Te=(t,e="https://api.emailjs.com")=>{if(!t)return;const s=se(t);d.publicKey=s.publicKey,d.blockHeadless=s.blockHeadless,d.storageProvider=s.storageProvider,d.blockList=s.blockList,d.limitRate=s.limitRate,d.origin=s.origin||e},me=async(t,e,s={})=>{const n=await fetch(d.origin+t,{method:"POST",headers:s,body:e}),a=await n.text(),i=new O(n.status,a);if(n.ok)return i;throw i},pe=(t,e,s)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},je=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},fe=t=>t.webdriver||!t.languages||t.languages.length===0,de=()=>new O(451,"Unavailable For Headless Browser"),Ee=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},Re=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},Se=(t,e)=>t instanceof FormData?t.get(e):t[e],he=(t,e)=>{if(Re(t))return!1;Ee(t.list,t.watchVariable);const s=Se(e,t.watchVariable);return typeof s!="string"?!1:t.list.includes(s)},be=()=>new O(403,"Forbidden"),Be=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},He=async(t,e,s)=>{const n=Number(await s.get(t)||0);return e-Date.now()+n},ve=async(t,e,s)=>{if(!e.throttle||!s)return!1;Be(e.throttle,e.id);const n=e.id||t;return await He(n,e.throttle,s)>0?!0:(await s.set(n,Date.now().toString()),!1)},_e=()=>new O(429,"Too Many Requests"),Fe=async(t,e,s,n)=>{const a=se(n),i=a.publicKey||d.publicKey,w=a.blockHeadless||d.blockHeadless,f=a.storageProvider||d.storageProvider,k={...d.blockList,...a.blockList},P={...d.limitRate,...a.limitRate};return w&&fe(navigator)?Promise.reject(de()):(pe(i,t,e),je(s),s&&he(k,s)?Promise.reject(be()):await ve(location.pathname,P,f)?Promise.reject(_e()):me("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:s}),{"Content-type":"application/json"}))},qe=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},xe=t=>typeof t=="string"?document.querySelector(t):t,Ae=async(t,e,s,n)=>{const a=se(n),i=a.publicKey||d.publicKey,w=a.blockHeadless||d.blockHeadless,f=d.storageProvider||a.storageProvider,k={...d.blockList,...a.blockList},P={...d.limitRate,...a.limitRate};if(w&&fe(navigator))return Promise.reject(de());const c=xe(s);pe(i,t,e),qe(c);const _=new FormData(c);return he(k,_)?Promise.reject(be()):await ve(location.pathname,P,f)?Promise.reject(_e()):(_.append("lib_version","4.4.1"),_.append("service_id",t),_.append("template_id",e),_.append("user_id",i),me("/api/v1.0/email/send-form",_))},Ne={init:Te,send:Fe,sendForm:Ae,EmailJSResponseStatus:O};function Ve(t){let e,s,n;return{c(){e=p("p"),s=ce("❌ "),n=ce(t[8]),this.h()},l(a){e=m(a,"P",{class:!0});var i=ee(e);s=ue(i,"❌ "),n=ue(i,t[8]),i.forEach(N),this.h()},h(){l(e,"class","svelte-9s9665")},m(a,i){te(a,e,i),o(e,s),o(e,n)},p(a,i){i&256&&ke(n,a[8])},d(a){a&&N(e)}}}function Ke(t){let e,s="✅ Message sent successfully!";return{c(){e=p("p"),e.textContent=s,this.h()},l(n){e=m(n,"P",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-f9e3s6"&&(e.textContent=s),this.h()},h(){l(e,"class","svelte-9s9665")},m(n,a){te(n,e,a)},p:$,d(n){n&&N(e)}}}function Ue(t){let e,s,n="Your name*",a,i,w,f,k="Your email*",P,c,_,T,M="Project name*",V,y,K,j,D="Institution",U,L,I,E,re="Principal investigator",z,R,J,H,le="Project URL",X,C,Y,F,ae="Comments",G,S,W,q,ie="Submit",Q,Z,ne;function oe(u,r){if(u[7])return Ke;if(u[8])return Ve}let A=oe(t),h=A&&A(t);return{c(){e=p("form"),s=p("label"),s.textContent=n,a=v(),i=p("input"),w=v(),f=p("label"),f.textContent=k,P=v(),c=p("input"),_=v(),T=p("label"),T.textContent=M,V=v(),y=p("input"),K=v(),j=p("label"),j.textContent=D,U=v(),L=p("input"),I=v(),E=p("label"),E.textContent=re,z=v(),R=p("input"),J=v(),H=p("label"),H.textContent=le,X=v(),C=p("input"),Y=v(),F=p("label"),F.textContent=ae,G=v(),S=p("textarea"),W=v(),q=p("button"),q.textContent=ie,Q=v(),h&&h.c(),this.h()},l(u){e=m(u,"FORM",{class:!0});var r=ee(e);s=m(r,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(s)!=="svelte-1oir5wl"&&(s.textContent=n),a=b(r),i=m(r,"INPUT",{id:!0,type:!0,class:!0}),w=b(r),f=m(r,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(f)!=="svelte-2l31l3"&&(f.textContent=k),P=b(r),c=m(r,"INPUT",{id:!0,type:!0,class:!0}),_=b(r),T=m(r,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(T)!=="svelte-w0xz7n"&&(T.textContent=M),V=b(r),y=m(r,"INPUT",{id:!0,type:!0,class:!0}),K=b(r),j=m(r,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(j)!=="svelte-1gwahvu"&&(j.textContent=D),U=b(r),L=m(r,"INPUT",{id:!0,type:!0,class:!0}),I=b(r),E=m(r,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(E)!=="svelte-1rb7ueo"&&(E.textContent=re),z=b(r),R=m(r,"INPUT",{id:!0,type:!0,class:!0}),J=b(r),H=m(r,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(H)!=="svelte-1h9cf9"&&(H.textContent=le),X=b(r),C=m(r,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Y=b(r),F=m(r,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),B(F)!=="svelte-io3ooq"&&(F.textContent=ae),G=b(r),S=m(r,"TEXTAREA",{id:!0,class:!0}),ee(S).forEach(N),W=b(r),q=m(r,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(q)!=="svelte-1tcizps"&&(q.textContent=ie),Q=b(r),h&&h.l(r),r.forEach(N),this.h()},h(){l(s,"for","name"),l(s,"class","svelte-9s9665"),l(i,"id","name"),l(i,"type","text"),i.required=!0,l(i,"class","svelte-9s9665"),l(f,"for","email"),l(f,"class","svelte-9s9665"),l(c,"id","email"),l(c,"type","email"),c.required=!0,l(c,"class","svelte-9s9665"),l(T,"for","project"),l(T,"class","svelte-9s9665"),l(y,"id","project"),l(y,"type","text"),y.required=!0,l(y,"class","svelte-9s9665"),l(j,"for","institution"),l(j,"class","svelte-9s9665"),l(L,"id","institution"),l(L,"type","text"),l(L,"class","svelte-9s9665"),l(E,"for","pi"),l(E,"class","svelte-9s9665"),l(R,"id","pi"),l(R,"type","text"),l(R,"class","svelte-9s9665"),l(H,"for","url"),l(H,"class","svelte-9s9665"),l(C,"id","url"),l(C,"type","url"),l(C,"placeholder","https://example.com (optional)"),l(C,"class","svelte-9s9665"),l(F,"for","comments"),l(F,"class","svelte-9s9665"),l(S,"id","comments"),l(S,"class","svelte-9s9665"),l(q,"type","submit"),l(q,"class","bg-ctgorange svelte-9s9665"),l(e,"class","svelte-9s9665")},m(u,r){te(u,e,r),o(e,s),o(e,a),o(e,i),g(i,t[0]),o(e,w),o(e,f),o(e,P),o(e,c),g(c,t[1]),o(e,_),o(e,T),o(e,V),o(e,y),g(y,t[2]),o(e,K),o(e,j),o(e,U),o(e,L),g(L,t[3]),o(e,I),o(e,E),o(e,z),o(e,R),g(R,t[4]),o(e,J),o(e,H),o(e,X),o(e,C),g(C,t[5]),o(e,Y),o(e,F),o(e,G),o(e,S),g(S,t[6]),o(e,W),o(e,q),o(e,Q),h&&h.m(e,null),Z||(ne=[x(i,"input",t[10]),x(c,"input",t[11]),x(y,"input",t[12]),x(L,"input",t[13]),x(R,"input",t[14]),x(C,"input",t[15]),x(S,"input",t[16]),x(e,"submit",Le(t[9]))],Z=!0)},p(u,[r]){r&1&&i.value!==u[0]&&g(i,u[0]),r&2&&c.value!==u[1]&&g(c,u[1]),r&4&&y.value!==u[2]&&g(y,u[2]),r&8&&L.value!==u[3]&&g(L,u[3]),r&16&&R.value!==u[4]&&g(R,u[4]),r&32&&C.value!==u[5]&&g(C,u[5]),r&64&&g(S,u[6]),A===(A=oe(u))&&h?h.p(u,r):(h&&h.d(1),h=A&&A(u),h&&(h.c(),h.m(e,null)))},i:$,o:$,d(u){u&&N(e),h&&h.d(),Z=!1,ye(ne)}}}function Ie(t,e,s){let n="",a="",i="",w="",f="",k="",P="",c=!1,_="";const T=async L=>{L.preventDefault(),s(7,c=!1),s(8,_="");const I={name:n.trim(),email:a.trim(),project:i.trim(),institution:w.trim(),pi:f.trim(),url:k.trim(),comments:P.trim()};try{await Ne.send("service_s513c3i","template_nqj4aum",I,"5SbE9iKVe1cS7XMy2"),s(7,c=!0),s(0,n=s(1,a=message=""))}catch(E){s(8,_="Failed to send message. Please try again."),console.error(E)}};function M(){n=this.value,s(0,n)}function V(){a=this.value,s(1,a)}function y(){i=this.value,s(2,i)}function K(){w=this.value,s(3,w)}function j(){f=this.value,s(4,f)}function D(){k=this.value,s(5,k)}function U(){P=this.value,s(6,P)}return[n,a,i,w,f,k,P,c,_,T,M,V,y,K,j,D,U]}class De extends we{constructor(e){super(),Pe(this,e,Ie,Ue,ge,{})}}export{De as component};
